<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profilim - ZEUSFR</title>
</head>
<body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #1f1f1f; color: white; min-height: 100vh; display: flex; flex-direction: column;">
    <!-- Header -->
    <header style="background-color: #111; padding: 15px 0; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5); position: relative;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center;">
            <a href="index.html" style="color: #00bcd4; font-size: 28px; font-weight: bold; text-decoration: none;">ZEUSFR</a>
            
            <!-- PC Menüsü -->
            <nav id="desktopNav" style="display: flex; gap: 25px; align-items: center;">
                <a href="index.html" style="color: white; text-decoration: none; font-size: 18px;">Ana Sayfa</a>
                <a href="market.html" style="color: white; text-decoration: none; font-size: 18px;">Market</a>
                <a href="rules.html" style="color: white; text-decoration: none; font-size: 18px;">Kurallar</a>
                <a href="support.html" style="color: white; text-decoration: none; font-size: 18px;">Destek</a>
                <a href="profile.html" id="profileLink" style="color: #00bcd4; text-decoration: none; font-size: 18px;">Profil</a>
                <button id="logoutBtn" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer;">Çıkış Yap</button>
            </nav>
            
            <!-- Hamburger Menü -->
            <div class="hamburger" onclick="toggleMenu()" style="display: none; flex-direction: column; cursor: pointer; width: 30px; height: 25px; justify-content: space-between;">
                <div style="background-color: white; height: 3px; width: 100%;"></div>
                <div style="background-color: white; height: 3px; width: 100%;"></div>
                <div style="background-color: white; height: 3px; width: 100%;"></div>
            </div>
        </div>
        
        <!-- Mobil Menü -->
        <div id="mobileNav" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background-color: #333; padding: 20px; z-index: 1000;">
            <a href="index.html" style="display: block; color: white; text-decoration: none; padding: 12px 0; border-bottom: 1px solid #444; font-size: 18px;">Ana Sayfa</a>
            <a href="market.html" style="display: block; color: white; text-decoration: none; padding: 12px 0; border-bottom: 1px solid #444; font-size: 18px;">Market</a>
            <a href="rules.html" style="display: block; color: white; text-decoration: none; padding: 12px 0; border-bottom: 1px solid #444; font-size: 18px;">Kurallar</a>
            <a href="support.html" style="display: block; color: white; text-decoration: none; padding: 12px 0; border-bottom: 1px solid #444; font-size: 18px;">Destek</a>
            <a href="profile.html" id="mobileProfileLink" style="display: block; color: #00bcd4; text-decoration: none; padding: 12px 0; border-bottom: 1px solid #444; font-size: 18px;">Profil</a>
            <button id="mobileLogoutBtn" style="display: block; background: none; border: none; color: white; font-size: 18px; cursor: pointer; width: 100%; text-align: left; padding: 12px 0;">Çıkış Yap</button>
        </div>
    </header>

    <!-- Profil İçeriği -->
    <main style="flex: 1; max-width: 800px; margin: 30px auto; padding: 0 20px; width: 100%;">
        <div id="profileContent" style="background-color: #2a2a2a; padding: 30px; border-radius: 8px; margin-top: 30px;">
            <!-- Profil bilgileri buraya dinamik olarak yüklenecek -->
        </div>
    </main>

    <!-- Footer -->
    <footer style="background-color: #111; text-align: center; padding: 25px;">
        <p>© 2025 ZEUSFR | Tüm Hakları Saklıdır.</p>
    </footer>

    <script src="auth.js"></script>
    <script>
        // Menü kontrolü
        function toggleMenu() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.style.display = mobileNav.style.display === 'block' ? 'none' : 'block';
        }
        
        // Responsive kontrol
        function checkScreenSize() {
            const hamburger = document.querySelector('.hamburger');
            const desktopNav = document.getElementById('desktopNav');
            if (window.innerWidth <= 768) {
                hamburger.style.display = 'flex';
                desktopNav.style.display = 'none';
            } else {
                hamburger.style.display = 'none';
                desktopNav.style.display = 'flex';
                document.getElementById('mobileNav').style.display = 'none';
            }
        }
        
        // Çıkış yap
        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }
        
        // Profil bilgilerini yükle
        function loadProfile() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const profileContent = document.getElementById('profileContent');
            
            if (!currentUser) {
                profileContent.innerHTML = `
                    <div style="text-align: center;">
                        <h2 style="color: #ff5555;">Giriş Yapmalısınız!</h2>
                        <p>Profil sayfasını görüntülemek için lütfen giriş yapın.</p>
                        <a href="login.html" style="display: inline-block; padding: 10px 20px; background-color: #00bcd4; color: white; text-decoration: none; border-radius: 4px; margin-top: 20px;">Giriş Yap</a>
                    </div>
                `;
                return;
            }
            
            // Kullanıcı giriş yapmışsa profil bilgilerini göster
            profileContent.innerHTML = `
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="width: 100px; height: 100px; background-color: #00bcd4; border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white;">
                        ${currentUser.username.charAt(0).toUpperCase()}
                    </div>
                    <h2 style="color: #00bcd4; font-size: 28px; margin-bottom: 5px;">${currentUser.username}</h2>
                    <p style="color: #aaa; font-size: 16px;">Üye since: ${currentUser.registerDate || 'Bilinmiyor'}</p>
                </div>
                
                <div style="border-top: 1px solid #444; padding-top: 20px;">
                    <h3 style="color: #00bcd4; font-size: 22px; margin-bottom: 20px;">Hesap Bilgileri</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                        <div>
                            <p style="color: #aaa; margin-bottom: 5px;">E-posta:</p>
                            <p style="font-size: 18px;">${currentUser.email || 'Bilinmiyor'}</p>
                        </div>
                        <div>
                            <p style="color: #aaa; margin-bottom: 5px;">Son Giriş:</p>
                            <p style="font-size: 18px;">${currentUser.lastLogin || 'Bilinmiyor'}</p>
                        </div>
                        <div>
                            <p style="color: #aaa; margin-bottom: 5px;">Rütbe:</p>
                            <p style="font-size: 18px;">${currentUser.rank || 'Standart Üye'}</p>
                        </div>
                    </div>
                    
                    <h3 style="color: #00bcd4; font-size: 22px; margin-bottom: 15px;">Satın Alma Geçmişi</h3>
                    <div style="background-color: #333; padding: 15px; border-radius: 5px;">
                        ${currentUser.purchases && currentUser.purchases.length > 0 ? 
                            currentUser.purchases.map(purchase => `
                                <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #444;">
                                    <span>${purchase.item}</span>
                                    <span>${purchase.price} - ${purchase.date}</span>
                                </div>
                            `).join('') : 
                            '<p style="text-align: center; color: #aaa;">Henüz satın alma yapılmamış</p>'
                        }
                    </div>
                </div>
            `;
        }
        
        // Çıkış butonlarını bağla
        document.getElementById('logoutBtn').addEventListener('click', logout);
        document.getElementById('mobileLogoutBtn').addEventListener('click', logout);
        
        // Sayfa yüklendiğinde
        window.addEventListener('load', function() {
            checkScreenSize();
            loadProfile();
        });
        window.addEventListener('resize', checkScreenSize);
    </script>
</body>
</html>